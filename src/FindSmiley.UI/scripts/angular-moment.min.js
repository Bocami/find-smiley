!function(){"use strict";function n(n,t){return n.module("angularMoment",[]).constant("angularMomentConfig",{preprocess:null,timezone:"",format:null}).constant("moment",t).constant("amTimeAgoConfig",{withoutSuffix:!1,serverTime:null}).directive("amTimeAgo",["$window","moment","amMoment","amTimeAgoConfig","angularMomentConfig",function(t,i,r,u,f){return function(e,o,s){function y(){var n,t,r;return u.serverTime?(t=(new Date).getTime(),r=t-nt+u.serverTime,n=i(r)):n=i(),n}function a(){l&&(t.clearTimeout(l),l=null)}function p(n){if(o.text(n.from(y(),v)),!g){var r=y().diff(n,"minute"),i=3600;1>r?i=1:60>r?i=30:180>r&&(i=300);l=t.setTimeout(function(){p(n)},1e3*i)}}function w(n){it&&o.attr("datetime",n)}function h(){if(a(),c){var n=r.preprocessDate(c,d,k);p(n);w(n.toISOString())}}var c,b,l=null,k=f.format,v=u.withoutSuffix,nt=(new Date).getTime(),d=f.preprocess,tt=s.amTimeAgo.replace(/^::/,""),g=0===s.amTimeAgo.indexOf("::"),it="TIME"===o[0].nodeName.toUpperCase();b=e.$watch(tt,function(n){return"undefined"==typeof n||null===n||""===n?(a(),void(c&&(o.text(""),w(""),c=null))):(c=n,h(),void(void 0!==n&&g&&b()))});n.isDefined(s.amWithoutSuffix)&&e.$watch(s.amWithoutSuffix,function(n){"boolean"==typeof n?(v=n,h()):v=u.withoutSuffix});s.$observe("amFormat",function(n){"undefined"!=typeof n&&(k=n,h())});s.$observe("amPreprocess",function(n){d=n;h()});e.$on("$destroy",function(){a()});e.$on("amMoment:languageChange",function(){h()})}}]).service("amMoment",["moment","$rootScope","$log","angularMomentConfig",function(t,i,r,u){this.preprocessors={utc:t.utc,unix:t.unix};this.changeLanguage=function(r){var u=t.lang(r);return n.isDefined(r)&&i.$broadcast("amMoment:languageChange"),u};this.preprocessDate=function(i,f,e){return n.isUndefined(f)&&(f=u.preprocess),this.preprocessors[f]?this.preprocessors[f](i,e):(f&&r.warn("angular-moment: Ignoring unsupported value for preprocess: "+f),!isNaN(parseFloat(i))&&isFinite(i)?t(parseInt(i,10)):t(i,e))};this.applyTimezone=function(n){var t=u.timezone;return n&&t&&(n.tz?n=n.tz(t):r.warn("angular-moment: timezone specified but moment.tz() is undefined. Did you forget to include moment-timezone.js?")),n}}]).filter("amCalendar",["moment","amMoment",function(n,t){return function(i,r){if("undefined"==typeof i||null===i)return"";i=t.preprocessDate(i,r);var u=n(i);return u.isValid()?t.applyTimezone(u).calendar():""}}]).filter("amDateFormat",["moment","amMoment",function(n,t){return function(i,r,u){if("undefined"==typeof i||null===i)return"";i=t.preprocessDate(i,u);var f=n(i);return f.isValid()?t.applyTimezone(f).format(r):""}}]).filter("amDurationFormat",["moment",function(n){return function(t,i,r){return"undefined"==typeof t||null===t?"":n.duration(t,i).humanize(r)}}])}"function"==typeof define&&define.amd?define("angular-moment",["angular","moment"],n):n(angular,window.moment)}();
/*
//# sourceMappingURL=angular-moment.min.js.map
*/